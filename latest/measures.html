<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>CasaCore.Measures · CasaCore.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="CasaCore.jl logo"/></a><h1>CasaCore.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction</a></li><li><span class="toctext">Modules</span><ul><li><a class="toctext" href="tables.html">CasaCore.Tables</a></li><li class="current"><a class="toctext" href="measures.html">CasaCore.Measures</a><ul class="internal"><li><a class="toctext" href="#Units-1">Units</a></li><li><a class="toctext" href="#Epochs-1">Epochs</a></li><li><a class="toctext" href="#Directions-1">Directions</a></li><li><a class="toctext" href="#Positions-1">Positions</a></li><li><a class="toctext" href="#Coordinate-System-Conversions-1">Coordinate System Conversions</a></li></ul></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Modules</li><li><a href="measures.html">CasaCore.Measures</a></li></ul><a class="edit-page" href="https://github.com/mweastwood/CasaCore.jl/blob/master/docs/src/measures.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>CasaCore.Measures</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Measures-1" href="#Measures-1">Measures</a></h1><p>Load this module by running</p><pre><code class="language-julia">using CasaCore.Measures</code></pre><p>The <code>Measures</code> module is used to interface with the CasaCore measures system, which can be used to perform coordinate system conversions. For example, UTC time can be converted to atomic time, or a B1950 coordinates can be converted to J2000 coordinates.</p><p>At the moment there are 3 different kinds of measures available:</p><ol><li><p><a href="measures.html#Epochs-1">Epochs</a> - representing an instance in time</p></li><li><p><a href="measures.html#Directions-1">Directions</a> - representing a direction to an object on the sky</p></li><li><p><a href="measures.html#Positions-1">Positions</a> - representing a location on the Earth</p></li></ol><h2><a class="nav-anchor" id="Units-1" href="#Units-1">Units</a></h2><p>CasaCore.Measures depends on the <a href="https://github.com/ajkeller34/Unitful.jl">Unitful</a> package in order to specify the units associated with various quantities. The Unitful package should have automatically been installed when you ran <code>Pkg.add(&quot;CasaCore&quot;)</code>. You can load the Unitful package by running <code>using Unitful</code> and <a href="http://ajkeller34.github.io/Unitful.jl">documentation for Unitful is also available</a>. Unitful is a particularly elegant package for unit-checked computation because the unit checking occurs at compile-time. That is, there is no run-time overhead associated with using Unitful.</p><p>Unitful offers two ways to attach units to a quantity:</p><pre><code class="language-julia">using Unitful: m
x = 10.0 * u&quot;m&quot; # using the u&quot;...&quot; string macro
y = 10.0 * m    # using the Unitful.m object (which we have imported into our namespace)</code></pre><p>The first approach using the string macro is generally preferred because it avoids polluting the namespace. Simply replace the <code>...</code> in <code>u&quot;...&quot;</code> with your desired units. For example we could obtain units of meters per second by writing <code>u&quot;m/s&quot;</code> or radians per kilometer-squared by writing <code>u&quot;rad/km^2&quot;</code>.</p><p>CasaCore.Measures, however, will only expect quantities with three different kinds of units: times, lengths, and angles. These are summarized below.</p><table><tr><th>Unit</th><th>Expression</th></tr><tr><td>Seconds</td><td><code>u&quot;s&quot;</code></td></tr><tr><td>Days</td><td><code>u&quot;d&quot;</code></td></tr><tr><td>Meters</td><td><code>u&quot;m&quot;</code></td></tr><tr><td>Kilometers</td><td><code>u&quot;km&quot;</code></td></tr><tr><td>Degrees</td><td><code>u&quot;°&quot;</code></td></tr><tr><td>Radians</td><td><code>u&quot;rad&quot;</code></td></tr></table><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>The ° character for degrees con be obtained at the Julia REPL by typing <code>\degree</code> and then pressing <code>&lt;tab&gt;</code>. The Julia plugins for Emacs and vim also provide this functionality.</p></div></div><p><a href="https://github.com/JuliaAstro/UnitfulAstro.jl">UnitfulAstro</a> extends base Unitful with additional units commonly encountered in astronomy (for instance, <code>pc</code> and <code>Jy</code>).</p><h2><a class="nav-anchor" id="Epochs-1" href="#Epochs-1">Epochs</a></h2><p>An epoch measure is created using the <code>Epoch(sys, time)</code> constructor where <code>sys</code> specifies the coordinate system and <code>time</code> specifies the Julian date.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CasaCore.Measures.Epoch-Tuple{CasaCore.Measures.Epochs.System,Union{Unitful.Level{L,S,Unitful.Quantity{T,Unitful.Dimensions{(Unitful.Dimension{:Time}(1//1),)},U}} where S where L, Unitful.Quantity{T,Unitful.Dimensions{(Unitful.Dimension{:Time}(1//1),)},U}} where U where T}" href="#CasaCore.Measures.Epoch-Tuple{CasaCore.Measures.Epochs.System,Union{Unitful.Level{L,S,Unitful.Quantity{T,Unitful.Dimensions{(Unitful.Dimension{:Time}(1//1),)},U}} where S where L, Unitful.Quantity{T,Unitful.Dimensions{(Unitful.Dimension{:Time}(1//1),)},U}} where U where T}"><code>CasaCore.Measures.Epoch</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">Epoch(sys, time)</code></pre><p>Instantiate an epoch in the given coordinate system (<code>sys</code>).</p><p>The <code>time</code> should be given as a modified Julian date.  Additionally the Unitful package should be used to communicate the units of <code>time</code>.</p><p>For example <code>time = 57365.5 * u&quot;d&quot;</code> corresponds to a Julian date of 57365.5 days. However you can also specify the Julian date in seconds (<code>u&quot;s&quot;</code>), or any other unit of time supported by Unitful.</p><p><strong>Coordinate Systems:</strong></p><p>The coordinate system is selected using the string macro <code>epoch&quot;...&quot;</code> where the <code>...</code> is replaced with one of the coordinate systems listed below.</p><ul><li><p><code>LAST</code> - local apparent sidereal time</p></li><li><p><code>LMST</code> - local mean sidereal time</p></li><li><p><code>GMST1</code> - Greenwich mean sidereal time</p></li><li><p><code>GAST</code> - Greenwich apparent sidereal time</p></li><li><p><code>UT1</code> - UT0 (raw time from GPS measurements) corrected for polar wandering</p></li><li><p><code>UT2</code> - UT1 corrected for variable Earth rotation</p></li><li><p><code>UTC</code> - coordinated universal time</p></li><li><p><code>TAI</code> - international atomic time</p></li><li><p><code>TDT</code> - terrestrial dynamical time</p></li><li><p><code>TCG</code> - geocentric coordinate time</p></li><li><p><code>TDB</code> - barycentric dynamical time</p></li><li><p><code>TCB</code> - barycentric coordinate time</p></li></ul><p><strong>Examples:</strong></p><pre><code class="language-julia">using Unitful: d
Epoch(epoch&quot;UTC&quot;,     0.0d) # 1858-11-17T00:00:00
Epoch(epoch&quot;UTC&quot;, 57365.5d) # 2015-12-09T12:00:00</code></pre></div><a class="source-link" target="_blank" href="https://github.com/mweastwood/CasaCore.jl/blob/e8ae23c399f2ecb53876a3f61c162df5b93de53d/src/measures/epochs.jl#L42-L78">source</a></section><h2><a class="nav-anchor" id="Directions-1" href="#Directions-1">Directions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CasaCore.Measures.Direction-Tuple{CasaCore.Measures.Directions.System,Unitful.Quantity{T,Unitful.Dimensions{()},U} where U where T,Unitful.Quantity{T,Unitful.Dimensions{()},U} where U where T}" href="#CasaCore.Measures.Direction-Tuple{CasaCore.Measures.Directions.System,Unitful.Quantity{T,Unitful.Dimensions{()},U} where U where T,Unitful.Quantity{T,Unitful.Dimensions{()},U} where U where T}"><code>CasaCore.Measures.Direction</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">Direction(sys, longitude, latitude)
Direction(sys)</code></pre><p>Instantiate a direction in the given coordinate system (<code>sys</code>).</p><p>The longitude and latitude may either be a sexagesimally formatted string, or an angle where the units (degrees or radians) are specified by using the Unitful package. If the longitude and latitude coordinates are not provided, they are assumed to be zero.</p><p><strong>Coordinate Systems:</strong></p><p>The coordinate system is selected using the string macro <code>dir&quot;...&quot;</code> where the <code>...</code> is replaced with one of the coordinate systems listed below.</p><ul><li><p><code>J2000</code> - mean equator and equinox at J2000.0 (FK5)</p></li><li><p><code>JMEAN</code> - mean equator and equinox at frame epoch</p></li><li><p><code>JTRUE</code> - true equator and equinox at frame epoch</p></li><li><p><code>APP</code> - apparent geocentric position</p></li><li><p><code>B1950</code> - mean epoch and ecliptic at B1950.0</p></li><li><p><code>B1950_VLA</code> - mean epoch (1979.9) and ecliptic at B1950.0</p></li><li><p><code>BMEAN</code> - mean equator and equinox at frame epoch</p></li><li><p><code>BTRUE</code> - true equator and equinox at frame epoch</p></li><li><p><code>GALACTIC</code> - galactic coordinates</p></li><li><p><code>HADEC</code> - topocentric hour angle and declination</p></li><li><p><code>AZEL</code> - topocentric azimuth and elevation (N through E)</p></li><li><p><code>AZELSW</code> - topocentric azimuth and elevation (S through W)</p></li><li><p><code>AZELGEO</code> - geodetic azimuth and elevation (N through E)</p></li><li><p><code>AZELSWGEO</code> - geodetic azimuth and elevation (S through W)</p></li><li><p><code>JNAT</code> - geocentric natural frame</p></li><li><p><code>ECLIPTIC</code> - ecliptic for J2000 equator and equinox</p></li><li><p><code>MECLIPTIC</code> - ecliptic for mean equator of date</p></li><li><p><code>TECLIPTIC</code> - ecliptic for true equator of date</p></li><li><p><code>SUPERGAL</code> - supergalactic coordinates</p></li><li><p><code>ITRF</code> - coordinates with respect to the ITRF Earth frame</p></li><li><p><code>TOPO</code> - apparent topocentric position</p></li><li><p><code>ICRS</code> - international celestial reference system</p></li><li><p><code>MERCURY</code></p></li><li><p><code>VENUS</code></p></li><li><p><code>MARS</code></p></li><li><p><code>JUPITER</code></p></li><li><p><code>SATURN</code></p></li><li><p><code>URANUS</code></p></li><li><p><code>NEPTUNE</code></p></li><li><p><code>PLUTO</code></p></li><li><p><code>SUN</code></p></li><li><p><code>MOON</code></p></li></ul><p><strong>Examples:</strong></p><pre><code class="language-julia">using Unitful: °, rad
Direction(dir&quot;AZEL&quot;, 0°, 90°) # topocentric zenith
Direction(dir&quot;ITRF&quot;, 0rad, 1rad)
Direction(dir&quot;J2000&quot;, &quot;12h00m&quot;, &quot;43d21m&quot;)
Direction(dir&quot;SUN&quot;)     # the direction towards the Sun
Direction(dir&quot;JUPITER&quot;) # the direction towards Jupiter</code></pre></div><a class="source-link" target="_blank" href="https://github.com/mweastwood/CasaCore.jl/blob/e8ae23c399f2ecb53876a3f61c162df5b93de53d/src/measures/directions.jl#L67-L125">source</a></section><h2><a class="nav-anchor" id="Positions-1" href="#Positions-1">Positions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CasaCore.Measures.Position-Tuple{CasaCore.Measures.Positions.System,Union{Unitful.Level{L,S,Unitful.Quantity{T,Unitful.Dimensions{(Unitful.Dimension{:Length}(1//1),)},U}} where S where L, Unitful.Quantity{T,Unitful.Dimensions{(Unitful.Dimension{:Length}(1//1),)},U}} where U where T,Unitful.Quantity{T,Unitful.Dimensions{()},U} where U where T,Unitful.Quantity{T,Unitful.Dimensions{()},U} where U where T}" href="#CasaCore.Measures.Position-Tuple{CasaCore.Measures.Positions.System,Union{Unitful.Level{L,S,Unitful.Quantity{T,Unitful.Dimensions{(Unitful.Dimension{:Length}(1//1),)},U}} where S where L, Unitful.Quantity{T,Unitful.Dimensions{(Unitful.Dimension{:Length}(1//1),)},U}} where U where T,Unitful.Quantity{T,Unitful.Dimensions{()},U} where U where T,Unitful.Quantity{T,Unitful.Dimensions{()},U} where U where T}"><code>CasaCore.Measures.Position</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">Position(sys, elevation, longitude, latitude)</code></pre><p>Instantiate a position in the given coordinate system (<code>sys</code>).</p><p>Note that depending on the coordinate system the elevation may be measured relative to the center or the surface of the Earth.  In both cases the units should be given with the Unitful package.  The longitude and latitude may either be a sexagesimally formatted string, or an angle where the units (degrees or radians) are specified by using the Unitful package. If the longitude and latitude coordinates are not provided, they are assumed to be zero.</p><p><strong>Coordinate Systems:</strong></p><p>The coordinate system is selected using the string macro <code>pos&quot;...&quot;</code> where the <code>...</code> is replaced with one of the coordinate systems listed below.</p><ul><li><p><code>ITRF</code> - the International Terrestrial Reference Frame</p></li><li><p><code>WGS84</code> - the World Geodetic System 1984</p></li></ul><p><strong>Examples:</strong></p><pre><code class="language-julia">using Unitful: m, °
Position(pos&quot;WGS84&quot;, 5000m, &quot;20d30m00s&quot;, &quot;-80d00m00s&quot;)
Position(pos&quot;WGS84&quot;, 5000m, 20.5°, -80°)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/mweastwood/CasaCore.jl/blob/e8ae23c399f2ecb53876a3f61c162df5b93de53d/src/measures/positions.jl#L39-L65">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CasaCore.Measures.observatory" href="#CasaCore.Measures.observatory"><code>CasaCore.Measures.observatory</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">observatory(name)</code></pre><p>Get the position of an observatory from its name.</p><p><strong>Examples:</strong></p><pre><code class="language-julia">observatory(&quot;VLA&quot;)  # the Very Large Array
observatory(&quot;ALMA&quot;) # the Atacama Large Millimeter/submillimeter Array</code></pre></div><a class="source-link" target="_blank" href="https://github.com/mweastwood/CasaCore.jl/blob/e8ae23c399f2ecb53876a3f61c162df5b93de53d/src/measures/positions.jl#L93-L104">source</a></section><h2><a class="nav-anchor" id="Coordinate-System-Conversions-1" href="#Coordinate-System-Conversions-1">Coordinate System Conversions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CasaCore.Measures.ReferenceFrame" href="#CasaCore.Measures.ReferenceFrame"><code>CasaCore.Measures.ReferenceFrame</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">ReferenceFrame</code></pre><p>The <code>ReferenceFrame</code> type contains information about the frame of reference to use when converting between coordinate systems. For example converting from J2000 coordinates to AZEL coordinates requires knowledge of the observer&#39;s location, and the current time. However converting between B1950 coordinates and J2000 coordinates requires no additional information about the observer&#39;s frame of reference.</p><p>Use the <code>set!</code> function to add information to the given frame of reference.</p><p><strong>Example:</strong></p><pre><code class="language-julia">frame = ReferenceFrame()
set!(frame, observatory(&quot;VLA&quot;)) # set the observer&#39;s position to the location of the VLA
set!(frame, Epoch(epoch&quot;UTC&quot;, 50237.29*u&quot;d&quot;)) # set the current UTC time</code></pre></div><a class="source-link" target="_blank" href="https://github.com/mweastwood/CasaCore.jl/blob/e8ae23c399f2ecb53876a3f61c162df5b93de53d/src/measures/conversions.jl#L52-L70">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CasaCore.Measures.measure" href="#CasaCore.Measures.measure"><code>CasaCore.Measures.measure</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">measure(frame, value, newsys)</code></pre><p>Converts the value measured in the given frame of reference into a new coordinate system.</p><p><strong>Arguments:</strong></p><ul><li><p><code>frame</code> - an instance of the <code>ReferenceFrame</code> type</p></li><li><p><code>value</code> - an <code>Epoch</code>, <code>Direction</code>, or <code>Position</code> that will be converted from its current           coordinate system into the new one</p></li><li><p><code>newsys</code> - the new coordinate system</p></li></ul><p>Note that the reference frame must have all the required information to convert between the coordinate systems. Not all conversions require the same information!</p><p><strong>Examples:</strong></p><pre><code class="language-julia"># Compute the azimuth and elevation of the Sun
measure(frame, Direction(dir&quot;SUN&quot;), dir&quot;AZEL&quot;)

# Compute the ITRF position of the VLA
measure(frame, observatory(&quot;VLA&quot;), pos&quot;ITRF&quot;)

# Compute the atomic time from a UTC time
measure(frame, Epoch(epoch&quot;UTC&quot;, 50237.29*u&quot;d&quot;), epoch&quot;TAI&quot;)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/mweastwood/CasaCore.jl/blob/e8ae23c399f2ecb53876a3f61c162df5b93de53d/src/measures/conversions.jl#L16-L43">source</a></section><footer><hr/><a class="previous" href="tables.html"><span class="direction">Previous</span><span class="title">CasaCore.Tables</span></a></footer></article></body></html>
